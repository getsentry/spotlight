{"event_id":"425a4c80599d4b8b8ac8a740453ee8f3","sent_at":"2024-06-04T07:54:01Z","dsn":"https:\/\/92c3effd55e94ec7a4c7394a641a4125@observ.app\/23","sdk":{"name":"sentry.php.wordpress","version":"7.15.0"},"trace":{"trace_id":"b7b18d8c62dd4b8d8c2f8e7ee5119a58","sample_rate":"1","public_key":"92c3effd55e94ec7a4c7394a641a4125","release":"4.6","environment":"unspecified","sampled":"true"}}
{"type":"event","content_type":"application\/json"}
{"timestamp":1717487641.29845,"platform":"php","sdk":{"name":"sentry.php.wordpress","version":"7.15.0"},"transaction":"","server_name":"Alexs-MacBook-Pro-M3.local","release":"4.6","environment":"unspecified","tags":{"wordpress":"6.5.3","language":"en-US"},"contexts":{"os":{"name":"Darwin","version":"23.5.0","build":"Darwin Kernel Version 23.5.0: Wed May  1 20:17:33 PDT 2024; root:xnu-10063.121.3~5\/RELEASE_ARM64_T6031","kernel_version":"Darwin Alexs-MacBook-Pro-M3.local 23.5.0 Darwin Kernel Version 23.5.0: Wed May  1 20:17:33 PDT 2024; root:xnu-10063.121.3~5\/RELEASE_ARM64_T6031 arm64"},"runtime":{"name":"php","sapi":"fpm-fcgi","version":"8.3.7"},"trace":{"span_id":"cb50460eb61348ec","trace_id":"b7b18d8c62dd4b8d8c2f8e7ee5119a58","parent_span_id":"ccc5fb4242aa446f","op":"wp.handle"}},"breadcrumbs":{"values":[{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.22447,"message":"SELECT option_name, option_value FROM wp_options WHERE autoload = 'yes'","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), wp_not_installed, is_blog_installed, wp_load_alloptions, QM_DB->query","executionTimeMs":1.194000244140625}},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.246284,"message":"SELECT * FROM wp_users WHERE user_login = 'admin' LIMIT 1","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), load_default_textdomain, determine_locale, get_user_locale, wp_get_current_user, _wp_get_current_user, apply_filters('determine_current_user'), WP_Hook->apply_filters, wp_validate_auth_cookie, get_user_by, WP_User::get_data_by, QM_DB->query","executionTimeMs":0.29206275939941406}},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.246798,"message":"SELECT user_id, meta_key, meta_value FROM wp_usermeta WHERE user_id IN (1) ORDER BY umeta_id ASC","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), load_default_textdomain, determine_locale, get_user_locale, wp_get_current_user, _wp_get_current_user, apply_filters('determine_current_user'), WP_Hook->apply_filters, wp_validate_auth_cookie, get_user_by, WP_User->init, WP_User->for_site, WP_User->get_caps_data, get_user_meta, get_metadata, get_metadata_raw, update_meta_cache, QM_DB->query","executionTimeMs":0.19407272338867188}},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.24773,"message":"SELECT option_value FROM wp_options WHERE option_name = 'WPLANG' LIMIT 1","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), load_default_textdomain, determine_locale, get_user_locale, get_locale, get_option, QM_DB->query","executionTimeMs":0.102996826171875}},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.256744,"message":"SELECT option_value FROM wp_options WHERE option_name = 'twentyeleven_theme_options' LIMIT 1","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), do_action('after_setup_theme'), WP_Hook->do_action, WP_Hook->apply_filters, twentyeleven_setup, twentyeleven_get_theme_options, get_option, QM_DB->query","executionTimeMs":0.15306472778320312}},{"type":"default","category":"cache","level":"info","timestamp":1717487641.278313,"message":"get: update_plugins"},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.278791,"message":"SELECT option_value FROM wp_options WHERE option_name = '_site_transient_update_plugins' LIMIT 1","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require('wp-admin\/menu.php'), wp_get_update_data, get_site_transient, get_site_option, get_network_option, get_option, QM_DB->query","executionTimeMs":0.3650188446044922}},{"type":"default","category":"cache","level":"info","timestamp":1717487641.278902,"message":"get: update_themes"},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.279177,"message":"SELECT option_value FROM wp_options WHERE option_name = '_site_transient_update_themes' LIMIT 1","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require('wp-admin\/menu.php'), wp_get_update_data, get_site_transient, get_site_option, get_network_option, get_option, QM_DB->query","executionTimeMs":0.1900196075439453}},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.279482,"message":"SELECT option_value FROM wp_options WHERE option_name = 'dismissed_update_core' LIMIT 1","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require('wp-admin\/menu.php'), wp_get_update_data, get_core_updates, get_site_option, get_network_option, get_option, QM_DB->query","executionTimeMs":0.1461505889892578}},{"type":"default","category":"cache","level":"info","timestamp":1717487641.279519,"message":"get: update_core"},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.27974,"message":"SELECT option_value FROM wp_options WHERE option_name = '_site_transient_update_core' LIMIT 1","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require('wp-admin\/menu.php'), wp_get_update_data, get_core_updates, get_site_transient, get_site_option, get_network_option, get_option, QM_DB->query","executionTimeMs":0.13589859008789062}},{"type":"default","category":"cache","level":"info","timestamp":1717487641.279799,"message":"get: update_core"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.279866,"message":"get: update_plugins"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.279946,"message":"get: update_themes"},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.280759,"message":"SELECT  COUNT(*)\n\t\t\t FROM wp_comments \n\t\t\t WHERE ( comment_approved = '1' )\n\t\t\t \n\t\t\t \n\t\t\t ","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require('wp-admin\/menu.php'), wp_count_comments, get_comment_count, get_comments, WP_Comment_Query->query, WP_Comment_Query->get_comments, WP_Comment_Query->get_comment_ids, QM_DB->query","executionTimeMs":0.46896934509277344}},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.28107,"message":"SELECT  COUNT(*)\n\t\t\t FROM wp_comments \n\t\t\t WHERE ( comment_approved = '0' )\n\t\t\t \n\t\t\t \n\t\t\t ","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require('wp-admin\/menu.php'), wp_count_comments, get_comment_count, get_comments, WP_Comment_Query->query, WP_Comment_Query->get_comments, WP_Comment_Query->get_comment_ids, QM_DB->query","executionTimeMs":0.2200603485107422}},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.281378,"message":"SELECT  COUNT(*)\n\t\t\t FROM wp_comments \n\t\t\t WHERE ( comment_approved = 'spam' )\n\t\t\t \n\t\t\t \n\t\t\t ","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require('wp-admin\/menu.php'), wp_count_comments, get_comment_count, get_comments, WP_Comment_Query->query, WP_Comment_Query->get_comments, WP_Comment_Query->get_comment_ids, QM_DB->query","executionTimeMs":0.18095970153808594}},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.281658,"message":"SELECT  COUNT(*)\n\t\t\t FROM wp_comments \n\t\t\t WHERE ( comment_approved = 'trash' )\n\t\t\t \n\t\t\t \n\t\t\t ","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require('wp-admin\/menu.php'), wp_count_comments, get_comment_count, get_comments, WP_Comment_Query->query, WP_Comment_Query->get_comments, WP_Comment_Query->get_comment_ids, QM_DB->query","executionTimeMs":0.15497207641601562}},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.281899,"message":"SELECT  COUNT(*)\n\t\t\t FROM wp_comments \n\t\t\t WHERE ( comment_approved = 'post-trashed' )\n\t\t\t \n\t\t\t \n\t\t\t ","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require('wp-admin\/menu.php'), wp_count_comments, get_comment_count, get_comments, WP_Comment_Query->query, WP_Comment_Query->get_comments, WP_Comment_Query->get_comment_ids, QM_DB->query","executionTimeMs":0.14019012451171875}},{"type":"default","category":"cache","level":"info","timestamp":1717487641.282815,"message":"get: health-check-site-status-result"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.285479,"message":"get: update_core"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.285554,"message":"get: update_plugins"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.285632,"message":"get: update_themes"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.296028,"message":"get: update_plugins"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.296128,"message":"get: update_themes"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.296256,"message":"get: update_core"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.296327,"message":"get: update_core"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.296391,"message":"get: update_plugins"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.296463,"message":"get: update_themes"},{"type":"default","category":"cache","level":"info","timestamp":1717487641.297826,"message":"get: update_core"},{"type":"default","category":"db.sql.query","level":"info","timestamp":1717487641.29831,"message":"SELECT option_value FROM wp_options WHERE option_name = 'auto_core_update_failed' LIMIT 1","data":{"callstack":"require('wp-admin\/tools.php'), require_once('wp-admin\/admin.php'), require_once('wp-admin\/admin-header.php'), do_action('admin_notices'), WP_Hook->do_action, WP_Hook->apply_filters, maintenance_nag, get_site_option, get_network_option, get_option, QM_DB->query","executionTimeMs":0.2219676971435547}}]},"request":{"url":"https:\/\/wordpress.develop\/wp-admin\/tools.php?page=wp-sentry","method":"POST","query_string":"page=wp-sentry","headers":{"Cookie":["[Filtered]"],"Te":["trailers"],"Priority":["u=1"],"Sec-Fetch-User":["?1"],"Sec-Fetch-Site":["same-origin"],"Sec-Fetch-Mode":["navigate"],"Sec-Fetch-Dest":["document"],"Upgrade-Insecure-Requests":["1"],"Origin":["https:\/\/wordpress.develop"],"Content-Length":["57"],"Content-Type":["application\/x-www-form-urlencoded"],"Referer":["https:\/\/wordpress.develop\/wp-admin\/tools.php?page=wp-sentry"],"Accept-Encoding":["gzip, deflate, br, zstd"],"Accept-Language":["en-US,en;q=0.7,nl;q=0.3"],"Accept":["text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/avif,image\/webp,*\/*;q=0.8"],"User-Agent":["Mozilla\/5.0 (Macintosh; Intel Mac OS X 10.15; rv:127.0) Gecko\/20100101 Firefox\/127.0"],"Host":["wordpress.develop"]},"data":{"wp-sentry-send-test-exception-php":"Send PHP test exception"}},"exception":{"values":[{"type":"Exception","value":"This is a test exception sent from the Sentry WP PHP integration.","stacktrace":{"frames":[{"filename":"\/Users\/alexbouma\/.composer\/vendor\/laravel\/valet\/server.php","lineno":110,"in_app":true,"abs_path":"\/Users\/alexbouma\/.composer\/vendor\/laravel\/valet\/server.php","pre_context":["    Server::show404();","}","","chdir(dirname($frontControllerPath));",""],"context_line":"require $frontControllerPath;","post_context":[""]},{"filename":"\/wp-admin\/tools.php","lineno":40,"in_app":false,"abs_path":"\/Users\/alexbouma\/Developer\/wordpress\/wp-admin\/tools.php","function":"require","pre_context":["\t\texit;","\t}","}","","\/** WordPress Administration Bootstrap *\/"],"context_line":"require_once __DIR__ . '\/admin.php';","post_context":["","\/\/ Used in the HTML title tag.","$title = __( 'Tools' );","","get_current_screen()->add_help_tab("],"vars":{"param0":"\/Users\/alexbouma\/Developer\/wordpress\/wp-admin\/tools.php"}},{"filename":"\/wp-admin\/admin.php","lineno":259,"in_app":false,"abs_path":"\/Users\/alexbouma\/Developer\/wordpress\/wp-admin\/admin.php","function":"require_once","pre_context":["\t\t *","\t\t * @see get_plugin_page_hook()","\t\t *","\t\t * @since 1.5.0","\t\t *\/"],"context_line":"\t\tdo_action( $page_hook );","post_context":["\t} else {","\t\tif ( validate_file( $plugin_page ) ) {","\t\t\twp_die( __( 'Invalid plugin page.' ) );","\t\t}",""],"vars":{"param0":"\/Users\/alexbouma\/Developer\/wordpress\/wp-admin\/admin.php"}},{"filename":"\/wp-includes\/plugin.php","lineno":517,"in_app":false,"abs_path":"\/Users\/alexbouma\/Developer\/wordpress\/wp-includes\/plugin.php","function":"do_action","pre_context":["\t} elseif ( is_array( $arg[0] ) && 1 === count( $arg[0] ) && isset( $arg[0][0] ) && is_object( $arg[0][0] ) ) {","\t\t\/\/ Backward compatibility for PHP4-style passing of `array( &$this )` as action `$arg`.","\t\t$arg[0] = $arg[0][0];","\t}",""],"context_line":"\t$wp_filter[ $hook_name ]->do_action( $arg );","post_context":["","\tarray_pop( $wp_current_filter );","}","","\/**"],"vars":{"hook_name":"tools_page_wp-sentry"}},{"filename":"\/wp-includes\/class-wp-hook.php","lineno":348,"in_app":false,"abs_path":"\/Users\/alexbouma\/Developer\/wordpress\/wp-includes\/class-wp-hook.php","function":"WP_Hook::do_action","raw_function":"WP_Hook::do_action","pre_context":["\t *","\t * @param array $args Parameters to pass to the callback functions.","\t *\/","\tpublic function do_action( $args ) {","\t\t$this->doing_action = true;"],"context_line":"\t\t$this->apply_filters( '', $args );","post_context":["","\t\t\/\/ If there are recursive calls to the current action, we haven't finished it until we get to the last one.","\t\tif ( ! $this->nesting_level ) {","\t\t\t$this->doing_action = false;","\t\t}"],"vars":{"args":[""]}},{"filename":"\/wp-includes\/class-wp-hook.php","lineno":324,"in_app":false,"abs_path":"\/Users\/alexbouma\/Developer\/wordpress\/wp-includes\/class-wp-hook.php","function":"WP_Hook::apply_filters","raw_function":"WP_Hook::apply_filters","pre_context":["","\t\t\t\t\/\/ Avoid the array_slice() if possible.","\t\t\t\tif ( 0 === $the_['accepted_args'] ) {","\t\t\t\t\t$value = call_user_func( $the_['function'] );","\t\t\t\t} elseif ( $the_['accepted_args'] >= $num_args ) {"],"context_line":"\t\t\t\t\t$value = call_user_func_array( $the_['function'], $args );","post_context":["\t\t\t\t} else {","\t\t\t\t\t$value = call_user_func_array( $the_['function'], array_slice( $args, 0, $the_['accepted_args'] ) );","\t\t\t\t}","\t\t\t}","\t\t} while ( false !== next( $this->iterations[ $nesting_level ] ) );"],"vars":{"value":"","args":[""]}},{"filename":"\/Users\/alexbouma\/Developer\/wp-sentry\/src\/class-wp-sentry-admin-page.php","lineno":167,"in_app":true,"abs_path":"\/Users\/alexbouma\/Developer\/wp-sentry\/src\/class-wp-sentry-admin-page.php","function":"WP_Sentry_Admin_Page::render_admin_page","raw_function":"WP_Sentry_Admin_Page::render_admin_page","pre_context":["\t\t\tif ( isset( $_POST['wp-sentry-send-test-event-php'] ) ) {","\t\t\t\t$test_event_sent = true;","\t\t\t\t$test_event_id   = $this->send_test_event();","\t\t\t} elseif ( isset( $_POST['wp-sentry-send-test-exception-php'] ) ) {","\t\t\t\t$test_event_sent = true;"],"context_line":"\t\t\t\t$test_event_id   = $this->send_test_exception();","post_context":["\t\t\t}","\t\t}","","\t\t$js_tracker = WP_Sentry_Js_Tracker::get_instance();",""]},{"filename":"\/Users\/alexbouma\/Developer\/wp-sentry\/src\/class-wp-sentry-admin-page.php","lineno":127,"in_app":true,"abs_path":"\/Users\/alexbouma\/Developer\/wp-sentry\/src\/class-wp-sentry-admin-page.php","function":"WP_Sentry_Admin_Page::send_test_exception","raw_function":"WP_Sentry_Admin_Page::send_test_exception","pre_context":["\t * Try to send a test even to Sentry.","\t *","\t * @return string|null","\t *\/","\tprivate function send_test_exception(): ?string {"],"context_line":"\t\t$exception = $this->generateTestException( 'wp sentry test', [ 'foo' => 'bar' ] );","post_context":["","\t\t$tracker = WP_Sentry_Php_Tracker::get_instance();","","\t\tif ( ! empty( $tracker->get_dsn() ) ) {","\t\t\treturn $tracker->get_client()->captureException( $exception );"]},{"filename":"\/Users\/alexbouma\/Developer\/wp-sentry\/src\/class-wp-sentry-admin-page.php","lineno":148,"in_app":true,"abs_path":"\/Users\/alexbouma\/Developer\/wp-sentry\/src\/class-wp-sentry-admin-page.php","function":"WP_Sentry_Admin_Page::generateTestException","raw_function":"WP_Sentry_Admin_Page::generateTestException","pre_context":["\t *","\t * @return \\Exception","\t *\/","\tprivate function generateTestException( string $command, array $arg ): ?Exception {","\t\ttry {"],"context_line":"\t\t\tthrow new Exception( 'This is a test exception sent from the Sentry WP PHP integration.' );","post_context":["\t\t} catch ( Exception $ex ) {","\t\t\treturn $ex;","\t\t}","\t}",""],"vars":{"command":"wp sentry test","arg":{"foo":"bar"}}}]},"mechanism":{"type":"generic","handled":true,"data":{"code":0}}}]}}