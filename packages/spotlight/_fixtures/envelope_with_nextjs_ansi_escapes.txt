{"event_id":"7d644a7be9c14568b3affcfb7f527c34","sent_at":"2025-01-17T15:49:22.219Z","sdk":{"name":"sentry.javascript.nextjs","version":"8.50.0"},"trace":{"environment":"development","trace_id":"66db533aac7bfbb6023647914ccfadc5","sample_rate":"1","transaction":"POST /api/error","sampled":"true"}}
{"type":"event"}
{"exception":{"values":[{"type":"Error","value":"Error on API route (POST)","stacktrace":{"frames":[{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/base-server.js","module":"next.dist.server:base-server","function":"DevServer.renderToResponseWithComponents","lineno":1067,"colno":41,"in_app":false,"pre_context":["            // `staticPaths` is intentionally set to `undefined` as it should've","            // been caught when checking disk data.","            staticPaths: undefined,","            fallbackMode: (0, _fallback.parseFallbackField)(fallbackField)","        };","    }","    async renderToResponseWithComponents(requestContext, findComponentsResult) {"],"context_line":"        return (0, _tracer.getTracer)().trace(_constants1.BaseServerSpan.renderToResponseWithComponents, async ()=>this.renderToResponseWith {snip}","post_context":["    }","    pathCouldBeIntercepted(resolvedPathname) {","        return (0, _interceptionroutes.isInterceptionRouteAppPath)(resolvedPathname) || this.interceptionRoutePatterns.some((regexp)=>{","            return regexp.test(resolvedPathname);","        });","    }","    setVaryHeader(req, res, isAppPath, resolvedPathname) {"]},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/lib/trace/tracer.js","module":"next.dist.server.lib.trace:tracer","function":"NextTracerImpl.trace","lineno":134,"colno":20,"in_app":false,"pre_context":["            fn: fnOrEmpty,","            options: {","                ...fnOrOptions","            }","        };","        const spanName = options.spanName ?? type;","        if (!_constants.NextVanillaSpanAllowlist.includes(type) && process.env.NEXT_OTEL_VERBOSE !== '1' || options.hideSpan) {"],"context_line":"            return fn();","post_context":["        }","        // Trying to get active scoped span to assign parent. If option specifies parent span manually, will try to use it.","        let spanContext = this.getSpanContext((options == null ? void 0 : options.parentSpan) ?? this.getActiveScopeSpan());","        let isRootSpan = false;","        if (!spanContext) {","            spanContext = (context == null ? void 0 : context.active()) ?? ROOT_CONTEXT;","            isRootSpan = true;"]},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/base-server.js","module":"next.dist.server:base-server","function":"?","lineno":1067,"colno":121,"in_app":false,"pre_context":["            // `staticPaths` is intentionally set to `undefined` as it should've","            // been caught when checking disk data.","            staticPaths: undefined,","            fallbackMode: (0, _fallback.parseFallbackField)(fallbackField)","        };","    }","    async renderToResponseWithComponents(requestContext, findComponentsResult) {"],"context_line":"        return (0, _tracer.getTracer)().trace(_constants1.BaseServerSpan.renderToResponseWithComponents, async ()=>this.renderToResponseWith {snip}","post_context":["    }","    pathCouldBeIntercepted(resolvedPathname) {","        return (0, _interceptionroutes.isInterceptionRouteAppPath)(resolvedPathname) || this.interceptionRoutePatterns.some((regexp)=>{","            return regexp.test(resolvedPathname);","        });","    }","    setVaryHeader(req, res, isAppPath, resolvedPathname) {"]},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/base-server.js","module":"next.dist.server:base-server","function":"DevServer.renderToResponseWithComponentsImpl","lineno":1832,"colno":53,"in_app":false,"pre_context":["            });","            if (!result) return null;","            return {","                ...result,","                revalidate: result.revalidate","            };","        };"],"context_line":"        const cacheEntry = await this.responseCache.get(ssgCacheKey, responseGenerator, {","post_context":["            routeKind: // If the route module is not defined, we can assume it's a page being","            // rendered and thus check isAppPath.","            (routeModule == null ? void 0 : routeModule.definition.kind) ?? (isAppPath ? _routekind.RouteKind.APP_PAGE : _routekind.RouteKind.PAGES),","            incrementalCache,","            isOnDemandRevalidate,","            isPrefetch: req.headers.purpose === 'prefetch',","            isRoutePPREnabled"]},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/response-cache/index.js","module":"next.dist.server.response-cache:index","function":"ResponseCache.get","lineno":49,"colno":20,"in_app":false,"pre_context":["        const minimalModeKey = 'minimalMode';","        this[minimalModeKey] = minimalMode;","    }","    async get(key, responseGenerator, context) {","        // If there is no key for the cache, we can't possibly look this up in the","        // cache so just return the result of the response generator.","        if (!key) {"],"context_line":"            return responseGenerator({","post_context":["                hasResolved: false,","                previousCacheEntry: null","            });","        }","        const { incrementalCache, isOnDemandRevalidate = false, isFallback = false, isRoutePPREnabled = false } = context;","        const response = await this.batcher.batch({","            key,"]},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/base-server.js","module":"next.dist.server:base-server","function":"responseGenerator","lineno":1822,"colno":34,"in_app":false,"pre_context":["                };","            }","            // If this is a dynamic route with PPR enabled and the default route","            // matches were set, then we should pass the fallback route params to","            // the renderer as this is a fallback revalidation request.","            const fallbackRouteParams = isDynamic && isRoutePPREnabled && ((0, _requestmeta.getRequestMeta)(req, 'didSetDefaultRouteMatches' {snip}","            // Perform the render."],"context_line":"            const result = await doRender({","post_context":["                postponed,","                fallbackRouteParams","            });","            if (!result) return null;","            return {","                ...result,","                revalidate: result.revalidate"]},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/base-server.js","module":"next.dist.server:base-server","function":"doRender","lineno":1452,"colno":60,"in_app":false,"pre_context":["                            onAfterTaskError: undefined,","                            onInstrumentationRequestError: this.renderOpts.onInstrumentationRequestError,","                            buildId: this.renderOpts.buildId","                        }","                    };","                    try {","                        const request = _nextrequest.NextRequestAdapter.fromNodeNextRequest(req, (0, _nextrequest.signalFromNodeResponse)(re {snip}"],"context_line":"                        const response = await routeModule.handle(request, context);","post_context":["                        req.fetchMetrics = context.renderOpts.fetchMetrics;","                        const cacheTags = context.renderOpts.collectedTags;","                        // If the request is for a static response, we can cache it so long","                        // as it's not edge.","                        if (isSSG) {","                            const blob = await response.blob();","                            // Copy the headers from the response."]},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js","module":"next.dist.compiled.next-server:app-route.runtime.dev","function":"AppRouteRouteModule.handle","lineno":10,"colno":39855,"in_app":false},{"filename":"node:internal/async_local_storage/async_hooks","module":"async_hooks","function":"AsyncLocalStorage.run","lineno":91,"colno":14,"in_app":false,"platform":"nodejs"},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js","module":"next.dist.compiled.next-server:app-route.runtime.dev","function":"?","lineno":10,"colno":39901,"in_app":false},{"filename":"node:internal/async_local_storage/async_hooks","module":"async_hooks","function":"AsyncLocalStorage.run","lineno":91,"colno":14,"in_app":false,"platform":"nodejs"},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js","module":"next.dist.compiled.next-server:app-route.runtime.dev","function":"?","lineno":10,"colno":39944,"in_app":false},{"filename":"node:internal/async_local_storage/async_hooks","module":"async_hooks","function":"AsyncLocalStorage.run","lineno":91,"colno":14,"in_app":false,"platform":"nodejs"},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js","module":"next.dist.compiled.next-server:app-route.runtime.dev","function":"?","lineno":10,"colno":42132,"in_app":false},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/lib/trace/tracer.js","module":"next.dist.server.lib.trace:tracer","function":"NextTracerImpl.trace","lineno":151,"colno":28,"in_app":false,"pre_context":["        }","        const spanId = getSpanId();","        options.attributes = {","            'next.span_name': spanName,","            'next.span_type': type,","            ...options.attributes","        };"],"context_line":"        return context.with(spanContext.setValue(rootSpanIdKey, spanId), ()=>this.getTracerInstance().startActiveSpan(spanName, options, (span)=>{","post_context":["                const startTime = 'performance' in globalThis && 'measure' in performance ? globalThis.performance.now() : undefined;","                const onCleanup = ()=>{","                    rootSpanAttributesStore.delete(spanId);","                    if (startTime && process.env.NEXT_OTEL_PERFORMANCE_PREFIX && _constants.LogSpanAllowList.includes(type || '')) {","                        performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(type.split('.').pop() || '').replace(/[A-Z] {snip}","                            start: startTime,","                            end: performance.now()"]},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/src/api/context.js","module":"@opentelemetry.api.build.src.api:context","function":"ContextAPI.with","lineno":60,"colno":46,"in_app":false,"pre_context":["     *","     * @param context context to be active during function execution","     * @param fn function to execute in a context","     * @param thisArg optional receiver to be used for calling fn","     * @param args optional arguments forwarded to fn","     */","    with(context, fn, thisArg, ...args) {"],"context_line":"        return this._getContextManager().with(context, fn, thisArg, ...args);","post_context":["    }","    /**","     * Bind a context to a target function or event emitter","     *","     * @param context context to bind to the event emitter or function. Defaults to the currently active context","     * @param target function or event emitter to bind","     */"]},{"filename":"node_modules/.pnpm/@sentry+opentelemetry@8.50.0_@opentelemetry+api@1.9.0_@opentelemetry+core@1.30.1_@opentelemet_ob5acrtx7evj4imo3abxss3s5a/node_modules/@sentry/opentelemetry/build/cjs/index.js","module":"@sentry.opentelemetry.build.cjs:index","function":"SentryContextManager.with","lineno":1478,"colno":1,"in_app":false,"pre_context":["       setContextOnScope(newCurrentScope, ctx2);",""],"context_line":"       return super.with(ctx2, fn, thisArg, ...args);","post_context":["     }","   }",""]},{"filename":"node_modules/.pnpm/@opentelemetry+context-async-hooks@1.30.1_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js","module":"@opentelemetry.context-async-hooks.build.src:AsyncLocalStorageContextManager","function":"SentryContextManager.with","lineno":33,"colno":1,"in_app":false,"pre_context":["     with(context, fn, thisArg, ...args) {","         const cb = thisArg == null ? fn : fn.bind(thisArg);"],"context_line":"         return this._asyncLocalStorage.run(context, cb, ...args);","post_context":["     }","     enable() {","         return this;"]},{"filename":"node:internal/async_local_storage/async_hooks","module":"async_hooks","function":"AsyncLocalStorage.run","lineno":91,"colno":14,"in_app":false,"platform":"nodejs"},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/lib/trace/tracer.js","module":"next.dist.server.lib.trace:tracer","function":"?","lineno":151,"colno":103,"in_app":false,"pre_context":["        }","        const spanId = getSpanId();","        options.attributes = {","            'next.span_name': spanName,","            'next.span_type': type,","            ...options.attributes","        };"],"context_line":"        return context.with(spanContext.setValue(rootSpanIdKey, spanId), ()=>this.getTracerInstance().startActiveSpan(spanName, options, (span)=>{","post_context":["                const startTime = 'performance' in globalThis && 'measure' in performance ? globalThis.performance.now() : undefined;","                const onCleanup = ()=>{","                    rootSpanAttributesStore.delete(spanId);","                    if (startTime && process.env.NEXT_OTEL_PERFORMANCE_PREFIX && _constants.LogSpanAllowList.includes(type || '')) {","                        performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(type.split('.').pop() || '').replace(/[A-Z] {snip}","                            start: startTime,","                            end: performance.now()"]},{"filename":"node_modules/.pnpm/@opentelemetry+sdk-trace-base@1.30.1_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/sdk-trace-base/build/esm/Tracer.js","module":"@opentelemetry.sdk-trace-base.build.esm:Tracer","function":"Tracer.startActiveSpan","lineno":120,"colno":27,"in_app":false,"pre_context":["         var span = this.startSpan(name, opts, parentContext);","         var contextWithSpanSet = api.trace.setSpan(parentContext, span);"],"context_line":"         return api.context.with(contextWithSpanSet, fn, undefined, span);","post_context":["     };","     /** Returns the active {@link GeneralLimits}. */","     Tracer.prototype.getGeneralLimits = function () {"]},{"filename":"node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/api/context.js","module":"@opentelemetry.api.build.esm.api:context","function":"ContextAPI.with","lineno":88,"colno":1,"in_app":false,"pre_context":["             args[_i - 3] = arguments[_i];","         }"],"context_line":"         return (_a = this._getContextManager()).with.apply(_a, __spreadArray([context, fn, thisArg], __read(args), false));","post_context":["     };","     /**","      * Bind a context to a target function or event emitter"]},{"filename":"node_modules/.pnpm/@sentry+opentelemetry@8.50.0_@opentelemetry+api@1.9.0_@opentelemetry+core@1.30.1_@opentelemet_ob5acrtx7evj4imo3abxss3s5a/node_modules/@sentry/opentelemetry/build/cjs/index.js","module":"@sentry.opentelemetry.build.cjs:index","function":"SentryContextManager.with","lineno":1478,"colno":1,"in_app":false,"pre_context":["       setContextOnScope(newCurrentScope, ctx2);",""],"context_line":"       return super.with(ctx2, fn, thisArg, ...args);","post_context":["     }","   }",""]},{"filename":"node_modules/.pnpm/@opentelemetry+context-async-hooks@1.30.1_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js","module":"@opentelemetry.context-async-hooks.build.src:AsyncLocalStorageContextManager","function":"SentryContextManager.with","lineno":33,"colno":1,"in_app":false,"pre_context":["     with(context, fn, thisArg, ...args) {","         const cb = thisArg == null ? fn : fn.bind(thisArg);"],"context_line":"         return this._asyncLocalStorage.run(context, cb, ...args);","post_context":["     }","     enable() {","         return this;"]},{"filename":"node:internal/async_local_storage/async_hooks","module":"async_hooks","function":"AsyncLocalStorage.run","lineno":91,"colno":14,"in_app":false,"platform":"nodejs"},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/lib/trace/tracer.js","module":"next.dist.server.lib.trace:tracer","function":"?","lineno":169,"colno":36,"in_app":false,"pre_context":["                if (isRootSpan) {","                    rootSpanAttributesStore.set(spanId, new Map(Object.entries(options.attributes ?? {})));","                }","                try {","                    if (fn.length > 1) {","                        return fn(span, (err)=>closeSpanWithError(span, err));","                    }"],"context_line":"                    const result = fn(span);","post_context":["                    if ((0, _isthenable.isThenable)(result)) {","                        // If there's error make sure it throws","                        return result.then((res)=>{","                            span.end();","                            // Need to pass down the promise result,","                            // it could be react stream response with error { error, stream }","                            return res;"]},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js","module":"next.dist.compiled.next-server:app-route.runtime.dev","function":"?","lineno":10,"colno":42271,"in_app":false},{"filename":"/home/byk/Projects/getsentry/nextjs-spotlight-test/node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/next-server/app-route.runtime.dev.js","module":"next.dist.compiled.next-server:app-route.runtime.dev","function":"AppRouteRouteModule.do","lineno":10,"colno":32883,"in_app":false},{"filename":"node:internal/async_local_storage/async_hooks","module":"async_hooks","function":"AsyncLocalStorage.run","lineno":80,"colno":14,"in_app":false,"platform":"nodejs"},{"filename":"sentry-wrapper-module","module":"route.ts","function":"Object.apply","lineno":45,"colno":10,"in_app":true,"pre_context":["         parameterizedRoute: '/api/error',","         headers,"],"context_line":"       }).apply(thisArg, args);","post_context":["     },","   });"," }"]},{"filename":"node_modules/.pnpm/@sentry+nextjs@8.50.0_@opentelemetry+core@1.30.1_@opentelemetry+api@1.9.0__@opentelemetry+ins_lobose66tlrxyqsgevxoceuuua/node_modules/@sentry/nextjs/build/cjs/common/wrapRouteHandlerWithSentry.js","module":"@sentry.nextjs.build.cjs.common:wrapRouteHandlerWithSentry","function":"Object.apply","lineno":41,"colno":1,"in_app":false,"pre_context":["       }",""],"context_line":"       return core.withIsolationScope(","post_context":["         process.env.NEXT_RUNTIME === 'edge' ? edgeRuntimeIsolationScopeOverride : core.getIsolationScope(),","         () => {","           return core.withScope(async scope => {"]},{"filename":"node_modules/.pnpm/@sentry+core@8.50.0/node_modules/@sentry/core/build/cjs/currentScopes.js","module":"@sentry.core.build.cjs:currentScopes","function":"Object.withIsolationScope","lineno":94,"colno":1,"in_app":false,"pre_context":["     }",""],"context_line":"     return acs.withSetIsolationScope(isolationScope, callback);","post_context":["   }","","   return acs.withIsolationScope(rest[0]);"]},{"filename":"node_modules/.pnpm/@sentry+opentelemetry@8.50.0_@opentelemetry+api@1.9.0_@opentelemetry+core@1.30.1_@opentelemet_ob5acrtx7evj4imo3abxss3s5a/node_modules/@sentry/opentelemetry/build/cjs/index.js","module":"@sentry.opentelemetry.build.cjs:index","function":"Object.withSetIsolationScope","lineno":1385,"colno":1,"in_app":false,"pre_context":["     // the OTEL context manager, which uses the presence of this key to determine if it should","     // fork the isolation scope, or not"],"context_line":"     return api.context.with(ctx.setValue(SENTRY_FORK_SET_ISOLATION_SCOPE_CONTEXT_KEY, isolationScope), () => {","post_context":["       return callback(getIsolationScope());","     });","   }"]},{"filename":"node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/api/context.js","module":"@opentelemetry.api.build.esm.api:context","function":"ContextAPI.with","lineno":88,"colno":1,"in_app":false,"pre_context":["             args[_i - 3] = arguments[_i];","         }"],"context_line":"         return (_a = this._getContextManager()).with.apply(_a, __spreadArray([context, fn, thisArg], __read(args), false));","post_context":["     };","     /**","      * Bind a context to a target function or event emitter"]},{"filename":"node_modules/.pnpm/@sentry+opentelemetry@8.50.0_@opentelemetry+api@1.9.0_@opentelemetry+core@1.30.1_@opentelemet_ob5acrtx7evj4imo3abxss3s5a/node_modules/@sentry/opentelemetry/build/cjs/index.js","module":"@sentry.opentelemetry.build.cjs:index","function":"SentryContextManager.with","lineno":1478,"colno":1,"in_app":false,"pre_context":["       setContextOnScope(newCurrentScope, ctx2);",""],"context_line":"       return super.with(ctx2, fn, thisArg, ...args);","post_context":["     }","   }",""]},{"filename":"node_modules/.pnpm/@opentelemetry+context-async-hooks@1.30.1_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js","module":"@opentelemetry.context-async-hooks.build.src:AsyncLocalStorageContextManager","function":"SentryContextManager.with","lineno":33,"colno":1,"in_app":false,"pre_context":["     with(context, fn, thisArg, ...args) {","         const cb = thisArg == null ? fn : fn.bind(thisArg);"],"context_line":"         return this._asyncLocalStorage.run(context, cb, ...args);","post_context":["     }","     enable() {","         return this;"]},{"filename":"node:internal/async_local_storage/async_hooks","module":"async_hooks","function":"AsyncLocalStorage.run","lineno":91,"colno":14,"in_app":false,"platform":"nodejs"},{"filename":"node_modules/.pnpm/@sentry+opentelemetry@8.50.0_@opentelemetry+api@1.9.0_@opentelemetry+core@1.30.1_@opentelemet_ob5acrtx7evj4imo3abxss3s5a/node_modules/@sentry/opentelemetry/build/cjs/index.js","module":"@sentry.opentelemetry.build.cjs:index","function":"eval","lineno":1386,"colno":1,"in_app":false,"pre_context":["     // fork the isolation scope, or not","     return api.context.with(ctx.setValue(SENTRY_FORK_SET_ISOLATION_SCOPE_CONTEXT_KEY, isolationScope), () => {"],"context_line":"       return callback(getIsolationScope());","post_context":["     });","   }",""]},{"filename":"node_modules/.pnpm/@sentry+nextjs@8.50.0_@opentelemetry+core@1.30.1_@opentelemetry+api@1.9.0__@opentelemetry+ins_lobose66tlrxyqsgevxoceuuua/node_modules/@sentry/nextjs/build/cjs/common/wrapRouteHandlerWithSentry.js","module":"@sentry.nextjs.build.cjs.common:wrapRouteHandlerWithSentry","function":"eval","lineno":44,"colno":1,"in_app":false,"pre_context":["         process.env.NEXT_RUNTIME === 'edge' ? edgeRuntimeIsolationScopeOverride : core.getIsolationScope(),","         () => {"],"context_line":"           return core.withScope(async scope => {","post_context":["             scope.setTransactionName(`${method} ${parameterizedRoute}`);","","             if (process.env.NEXT_RUNTIME === 'edge') {"]},{"filename":"node_modules/.pnpm/@sentry+core@8.50.0/node_modules/@sentry/core/build/cjs/currentScopes.js","module":"@sentry.core.build.cjs:currentScopes","function":"Object.withScope","lineno":62,"colno":1,"in_app":false,"pre_context":["   }",""],"context_line":"   return acs.withScope(rest[0]);","post_context":[" }",""," /**"]},{"filename":"node_modules/.pnpm/@sentry+opentelemetry@8.50.0_@opentelemetry+api@1.9.0_@opentelemetry+core@1.30.1_@opentelemet_ob5acrtx7evj4imo3abxss3s5a/node_modules/@sentry/opentelemetry/build/cjs/index.js","module":"@sentry.opentelemetry.build.cjs:index","function":"Object.withScope","lineno":1350,"colno":1,"in_app":false,"pre_context":["     // fork the isolation scope, or not","     // as by default, we don't want to fork this, unless triggered explicitly by `withScope`"],"context_line":"     return api.context.with(ctx, () => {","post_context":["       return callback(getCurrentScope());","     });","   }"]},{"filename":"node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/api/context.js","module":"@opentelemetry.api.build.esm.api:context","function":"ContextAPI.with","lineno":88,"colno":1,"in_app":false,"pre_context":["             args[_i - 3] = arguments[_i];","         }"],"context_line":"         return (_a = this._getContextManager()).with.apply(_a, __spreadArray([context, fn, thisArg], __read(args), false));","post_context":["     };","     /**","      * Bind a context to a target function or event emitter"]},{"filename":"node_modules/.pnpm/@sentry+opentelemetry@8.50.0_@opentelemetry+api@1.9.0_@opentelemetry+core@1.30.1_@opentelemet_ob5acrtx7evj4imo3abxss3s5a/node_modules/@sentry/opentelemetry/build/cjs/index.js","module":"@sentry.opentelemetry.build.cjs:index","function":"SentryContextManager.with","lineno":1478,"colno":1,"in_app":false,"pre_context":["       setContextOnScope(newCurrentScope, ctx2);",""],"context_line":"       return super.with(ctx2, fn, thisArg, ...args);","post_context":["     }","   }",""]},{"filename":"node_modules/.pnpm/@opentelemetry+context-async-hooks@1.30.1_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js","module":"@opentelemetry.context-async-hooks.build.src:AsyncLocalStorageContextManager","function":"SentryContextManager.with","lineno":33,"colno":1,"in_app":false,"pre_context":["     with(context, fn, thisArg, ...args) {","         const cb = thisArg == null ? fn : fn.bind(thisArg);"],"context_line":"         return this._asyncLocalStorage.run(context, cb, ...args);","post_context":["     }","     enable() {","         return this;"]},{"filename":"node:internal/async_local_storage/async_hooks","module":"async_hooks","function":"AsyncLocalStorage.run","lineno":91,"colno":14,"in_app":false,"platform":"nodejs"},{"filename":"node_modules/.pnpm/@sentry+opentelemetry@8.50.0_@opentelemetry+api@1.9.0_@opentelemetry+core@1.30.1_@opentelemet_ob5acrtx7evj4imo3abxss3s5a/node_modules/@sentry/opentelemetry/build/cjs/index.js","module":"@sentry.opentelemetry.build.cjs:index","function":"eval","lineno":1351,"colno":1,"in_app":false,"pre_context":["     // as by default, we don't want to fork this, unless triggered explicitly by `withScope`","     return api.context.with(ctx, () => {"],"context_line":"       return callback(getCurrentScope());","post_context":["     });","   }",""]},{"filename":"node_modules/.pnpm/@sentry+nextjs@8.50.0_@opentelemetry+core@1.30.1_@opentelemetry+api@1.9.0__@opentelemetry+ins_lobose66tlrxyqsgevxoceuuua/node_modules/@sentry/nextjs/build/cjs/common/wrapRouteHandlerWithSentry.js","module":"@sentry.nextjs.build.cjs.common:wrapRouteHandlerWithSentry","function":"eval","lineno":62,"colno":1,"in_app":false,"pre_context":["             }",""],"context_line":"             const response = await core.handleCallbackErrors(","post_context":["               () => originalFunction.apply(thisArg, args),","               error => {","                 // Next.js throws errors when calling `redirect()`. We don't wanna report these."]},{"filename":"node_modules/.pnpm/@sentry+core@8.50.0/node_modules/@sentry/core/build/cjs/utils/handleCallbackErrors.js","module":"@sentry.core.build.cjs.utils:handleCallbackErrors","function":"Object.handleCallbackErrors","lineno":26,"colno":1,"in_app":false,"pre_context":["   let maybePromiseResult;","   try {"],"context_line":"     maybePromiseResult = fn();","post_context":["   } catch (e) {","     onError(e);","     onFinally();"]},{"filename":"node_modules/.pnpm/@sentry+nextjs@8.50.0_@opentelemetry+core@1.30.1_@opentelemetry+api@1.9.0__@opentelemetry+ins_lobose66tlrxyqsgevxoceuuua/node_modules/@sentry/nextjs/build/cjs/common/wrapRouteHandlerWithSentry.js","module":"@sentry.nextjs.build.cjs.common:wrapRouteHandlerWithSentry","function":"eval","lineno":63,"colno":1,"in_app":false,"pre_context":["","             const response = await core.handleCallbackErrors("],"context_line":"               () => originalFunction.apply(thisArg, args),","post_context":["               error => {","                 // Next.js throws errors when calling `redirect()`. We don't wanna report these.","                 if (nextNavigationErrorUtils.isRedirectNavigationError(error)) ; else if (nextNavigationErrorUtils.isNotFoundNavigationError(error)) {"]},{"filename":"app/api/error/route.ts","module":"route.ts","function":"POST$1","lineno":11,"colno":9,"in_app":true,"pre_context":[" export function POST() {","   Sentry.captureMessage(\"About to throw!\");"],"context_line":"   throw new Error(\"Error on API route (POST)\");","post_context":[" }",""]}]},"mechanism":{"type":"generic","handled":false}}]},"event_id":"7d644a7be9c14568b3affcfb7f527c34","level":"error","platform":"node","contexts":{"trace":{"parent_span_id":"ea17b53511b4d72d","span_id":"55bf0190aef85f92","trace_id":"66db533aac7bfbb6023647914ccfadc5"},"runtime":{"name":"node","version":"v22.11.0"},"app":{"app_start_time":"2025-01-17T13:30:18.910Z","app_memory":1383841792,"free_memory":7053115392},"os":{"kernel_version":"5.15.167.4-microsoft-standard-WSL2","name":"Ubuntu Linux","version":"22.04"},"device":{"boot_time":"2025-01-15T14:35:16.807Z","arch":"x64","memory_size":16406360064,"free_memory":7053115392,"processor_count":16,"cpu_description":"AMD Ryzen 7 7840U w/ Radeon  780M Graphics","processor_frequency":0},"culture":{"locale":"en-US","timezone":"Europe/London"},"cloud_resource":{}},"server_name":"DESKTOP-83GEP91","timestamp":1737128961.156,"environment":"development","sdk":{"integrations":["InboundFilters","FunctionToString","LinkedErrors","RequestData","Console","NodeFetch","OnUncaughtException","OnUnhandledRejection","ContextLines","LocalVariablesAsync","Context","ProcessAndThreadBreadcrumbs","Modules","Express","Fastify","Graphql","Mongo","Mongoose","Mysql","Mysql2","Redis","Postgres","Nest","Hapi","Koa","Connect","Tedious","GenericPool","Kafka","Amqplib","LruMemoizer","vercelAI","Http","DistDirRewriteFrames","Spotlight"],"name":"sentry.javascript.nextjs","version":"8.50.0","packages":[{"name":"npm:@sentry/nextjs","version":"8.50.0"},{"name":"npm:@sentry/node","version":"8.50.0"}]},"transaction":"POST /api/error","breadcrumbs":[{"timestamp":1737120631.652,"category":"console","level":"log","message":" \u001b[32m\u001b[1m✓\u001b[22m\u001b[39m Ready in 5.9s"},{"timestamp":1737124802.244,"category":"console","level":"log","message":" \u001b[32m\u001b[1m✓\u001b[22m\u001b[39m Compiled in 699ms (601 modules)"},{"timestamp":1737124810.846,"category":"console","level":"warning","message":" \u001b[33m\u001b[1m⚠\u001b[22m\u001b[39m Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload"}],"request":{"headers":{"host":"localhost:3000","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:128.0) Gecko/20100101 Firefox/128.0","accept":"*/*","accept-language":"en-GB,en-US;q=0.8,en;q=0.5,tr;q=0.3","accept-encoding":"gzip, deflate, br, zstd","referer":"http://localhost:3000/","content-type":"text/plain;charset=UTF-8","content-length":"14","origin":"http://localhost:3000","connection":"keep-alive","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","priority":"u=0","pragma":"no-cache","cache-control":"no-cache"},"method":"POST","url":"http://localhost:3000/api/error","cookies":{}},"modules":{}}